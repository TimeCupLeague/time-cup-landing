---
import Layout from '../layouts/Layout.astro';
import Header from '../components/layout/Header.astro';
import Footer from '../components/layout/Footer.astro';
import Container from '../components/ui/Container.astro';
import Section from '../components/ui/Section.astro';
import { ChangePasswordForm } from '../components/ui/ChangePasswordForm';

// Variables de entorno de Supabase
// Estas deben configurarse en tu plataforma de hosting (Vercel, Netlify, etc.)
// O en un archivo .env para desarrollo local
const supabaseUrl = import.meta.env.SUPABASE_URL || '';
const supabaseAnonKey = import.meta.env.SUPABASE_ANON_KEY || '';

if (!supabaseUrl || !supabaseAnonKey) {
  console.error('Error: Las variables de entorno SUPABASE_URL y SUPABASE_ANON_KEY deben estar configuradas.');
}
---

<Layout title="Cambiar ContraseÃ±a - TimeCup League">
  <Header />
  <main>
    <Section background="gray" class="relative overflow-hidden min-h-screen flex items-center">
      <div class="absolute inset-0 bg-black"></div>
      <div class="absolute inset-0 bg-black opacity-10"></div>

      <Container class="relative z-10 py-16">
        <ChangePasswordForm 
          client:load
          supabaseUrl={supabaseUrl}
          supabaseAnonKey={supabaseAnonKey}
        />
      </Container>
    </Section>
  </main>
  <Footer />
</Layout>

